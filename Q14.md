---
title: Convolution VS correlation
author: Michel Jean Joseph Donnet
---

# Convolution: formula

$$(f \ast w)(x, y) = \sum_{s=-a}^a \sum_{t = -b}^{b} w(s, t)f(x - s, y - t)$$

# Correlation: formula

$$(f \circ w)(x, y) = \sum_{s=-a}^a \sum_{t = -b}^{b} w(s, t)f(x + s, y + t)$$

# Differences between convolution and correlation

||Convolution|Correlation|
|:-:|:-:|:-:|
|Associativity|$f * (h_1 * h_2) = (f * h_1) * h_2$| No |
|Commutativity|$f * h = h * f$| No |
|Distributivity|$f * (h_1 + h_2) = f * h_1 + f * h_2$| $f \circ (h_1 + h_2) = f \circ h_1 + f \circ h_2$|

# Differences between convolution and correlation

To make convolution, we have to flip (180) the filter and then to apply correlation

| Convolution | Correlation |
|:-:|:-:|
| filtering operations | pattern matching |

# Distributivity of convolution


$$(f * (h_1 + h_2))(x, y)$$
$$=\sum_s \sum_t (h_1 + h_2)(s, t)f(x - s, y - t)$$
$$=\sum_s \sum_t (h_1(s, t) + h_2(s, t))f(x - s, y - t)$$
$$=\sum_s \sum_t \left(h_1(s, t)f(x - s, y - t) + h_2(s, t)f(x - s, y - t)\right)$$
$$=\sum_s \sum_t h_1(s, t)f(x - s, y - t) + \sum_s \sum_t h_2(s, t)f(x - s, y - t)$$
$$= (f * h_1)(x, y) + (f * h_2)(x, y)$$

# Distributivity of correlation


$$(f \circ (h_1 + h_2))(x, y)$$
$$=\sum_s \sum_t (h_1 + h_2)(s, t)f(x + s, y + t)$$
$$=\sum_s \sum_t (h_1(s, t) + h_2(s, t))f(x + s, y + t)$$
$$=\sum_s \sum_t \left(h_1(s, t)f(x + s, y + t) + h_2(s, t)f(x + s, y + t)\right)$$
$$=\sum_s \sum_t h_1(s, t)f(x + s, y + t) + \sum_s \sum_t h_2(s, t)f(x + s, y + t)$$
$$= (f \circ h_1)(x, y) + (f \circ h_2)(x, y)$$

