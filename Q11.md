---
title: Affine matrix
author: Michel Donnet
date: \today
header-includes:
- \usepackage{amsmath}
---

# Notation

The coordinate of a point of the image is given by: $\begin{bmatrix} w \\ z \end{bmatrix}$

and the new coordinate is given by: $\begin{bmatrix} x \\ y \end{bmatrix}$

# Shift

$$
\begin{matrix}
x = & w + \alpha = & 1 \times w + 0 \times z + 1 \times \alpha \\
y = & z + \beta = & 0 \times w + 1 \times z + 1 \times \beta
\end{matrix}
$$

We can write it as a matrix product:

$$
\begin{bmatrix} x \\ y \end{bmatrix}
= \begin{bmatrix}
1 & 0 & \alpha \\
0 & 1 & \beta
\end{bmatrix}
\begin{bmatrix} w \\ z \\ 1 \end{bmatrix}
= A\begin{bmatrix} w \\ z \\ 1\end{bmatrix}
$$

# Scaling

$$
\begin{matrix}
x = & \alpha \times w \\
y = & \beta \times z
\end{matrix}
$$

For the scaling:

$$\alpha = \beta \geq 0$$

We can write it as a matrix product:

$$
\begin{bmatrix} x \\ y \end{bmatrix}
= \begin{bmatrix}
\alpha & 0 \\
0 & \beta
\end{bmatrix}
\begin{bmatrix} w \\ z \end{bmatrix}
= \begin{bmatrix}
\alpha & 0 & 0\\
0 & \beta & 0
\end{bmatrix}
\begin{bmatrix} w \\ z \\ 1\end{bmatrix}
= A\begin{bmatrix} w \\ z \\ 1\end{bmatrix}
$$

# Note

To flip the image, we have:
$$\alpha = - \beta$$

To change aspect ratio, we have:
$$\alpha \neq \beta$$

To have the same length of input and output, we write the affix transform matrix like this:



$$
\begin{bmatrix} x \\ y \\ 1 \end{bmatrix}
= \begin{bmatrix}
& A & \\
0 & 0 & 1
\end{bmatrix}
\begin{bmatrix} w \\ z \\ 1 \end{bmatrix}
$$
